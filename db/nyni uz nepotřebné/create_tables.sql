CREATE TABLE Countries (
  id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  name VARCHAR(64)
);

CREATE TABLE Languages (
  id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  name VARCHAR(64)
);

CREATE TABLE Genres (
  id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  name VARCHAR(64)
);

CREATE TABLE Publishers (
  id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  name VARCHAR(64)
);

CREATE TABLE BookTypes (
  id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  name VARCHAR(32)
);

CREATE TABLE Authors (
  id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  name VARCHAR(64),
  dateOfBirth DATE,
  countryId INTEGER,
  aboutAuthor BLOB SUB_TYPE TEXT,
  FOREIGN KEY (countryId) REFERENCES Countries(id)
);

CREATE TABLE Books (
  id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  authorId INTEGER,
  name VARCHAR(64),
  genreId INTEGER,
  description BLOB SUB_TYPE TEXT,
  rating BLOB SUB_TYPE TEXT,
  languageId INTEGER,
  publishingHouseId INTEGER,
  isbn VARCHAR(13),
  ean VARCHAR(13),
  length SMALLINT,
  typeId INTEGER,
  photo BLOB,
  FOREIGN KEY (authorId) REFERENCES Authors(id),
  FOREIGN KEY (genreId) REFERENCES Genres(id),
  FOREIGN KEY (languageId) REFERENCES Languages(id),
  FOREIGN KEY (publishingHouseId) REFERENCES Publishers(id),
  FOREIGN KEY (typeId) REFERENCES BookTypes(id)
);

INSERT INTO BookTypes(name) VALUES('tvrdá');
INSERT INTO BookTypes(name) VALUES('měkka');
INSERT INTO BookTypes(name) VALUES('leporelo');
INSERT INTO BookTypes(name) VALUES('elektronická');
INSERT INTO BookTypes(name) VALUES('audio');



COMMIT;
